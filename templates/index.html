{% extends 'base.html' %}
{% block title %} Music Player {% endblock %}
{% block content %}

    {% load static %}


    <head>
        <meta charset="utf-8"/>

        <link href="{% static '/css/audio_player.css' %}" rel="stylesheet"/>

        {#        <link href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.7/mediaelementplayer.min.css"#}
        {#              rel="stylesheet"/>#}
        {#        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.0.53/wavesurfer.min.js"></script>#}
        <script src="//cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/wavesurfer.min.js"></script>

        <!-- partial -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.7/mediaelement-and-player.min.js">
        </script>
        </script>
        <meta charset="utf-8"/>
    </head>


    <div style="width: 100%; height: 100%; text-align: center" class="contain">
        <div class="container">
            <div class="music-player">
                {% for item in page_obj %}
                    <div class="cover">
                        <img alt="" src="{{ item.img.url }}"/>

                    </div>
                    <div class="waveform-container">

                        <div id="waveform"></div>
                    </div>
                    <div class="titre">
                        <h3>
                            {{ item.artist }}
                        </h3>
                        <h1>
                            {{ item.title }}
                        </h1>
                    </div>
                    <div class=" controls">
                        <a
                                href="{% if page_obj.has_previous %}?page={{ page_obj.previous_page_number }}{% endif %}"><i
                                class="fa fa-step-backward fa-2x"></i>
                        </a> &nbsp; &nbsp; &nbsp;
                        <a
                                href="{% if page_obj.has_next %}?page={{ page_obj.next_page_number }} {% endif %}"><i
                                class="fa fa-step-forward fa-2x"></i>
                        </a>
                        <div class="play-btn play-pause" onclick="playPause()"><i class="fa-solid fa-play"></i></div>

                        <div class="pause-btn play-pause" onclick="playPause()"><i
                                class="fa-solid fa-pause pause-btn"></i></div>
                        <div class="volume">

                            <input oninput="wavesurfer.setVolume(value/100) " type="range" min="0" max="100" value="70"
                                   id="volume-slider">
                        </div>
                    </div>
                    <div class="extra-controls">
                        <div class="knob">
                            <webaudio-knob src="{% static '/images/Vintage_VUMeter_2.png' %}" sprites="50" value="12"
                                           diameter="120" style="height: 120px;"></webaudio-knob>
                        </div>
                        <div class="knob">
                            <webaudio-knob src="{% static "/images/Vintage_Knob.png" %}" sprites="100" value="62" diameter="80" style="height: 80px;"></webaudio-knob>
                        </div>
                        <div class="knob">
                            <webaudio-knob src="{% static "/images/Vintage_Knob.png" %}" sprites="100" value="62" diameter="80" style="height: 80px;"></webaudio-knob>
                        </div>
                        <div class="knob">
                            <webaudio-knob src="{% static "/images/Vintage_Knob.png" %}" sprites="100" value="62" diameter="80" style="height: 80px;"></webaudio-knob>
                        </div>
                        <div class="knob">
                            <webaudio-knob src="{% static '/images/knob_metal_mesh.png' %}" sprites="100" value="12"
                                           diameter="120" style="height: 120px;"></webaudio-knob>
                        </div>

                    </div>
                    <div class="lecteur">
                        <audio id="audio" class="fc-media" style="width: 100%;">
                            <source id="audioSource" src="{% if item.audio %}{{ item.audio.url }} {% endif %}"
                                    type="audio/mp3"/>
                        </audio>

                    </div>
                {% endfor %}

            </div>
        </div>
    </div>
    <script src="{% static '/scripts/script.js' %}"></script>
    <script src="{% static '/scripts/input-knobs.js' %}"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/wavesurfer.min.js"></script>



{% endblock content %}
